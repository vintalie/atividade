<link rel="stylesheet" href="/css/header.css">
<script>
if (localStorage.getItem('dark-mode') === 'on') {
  document.documentElement.classList.add('dark-mode');
  document.body.classList.add('dark-mode');
}
</script>
<header>
  <nav class="navbar navbar-expand-lg">
    <div class="container d-flex justify-content-between align-items-center">
      <!-- Botão do menu hamburguer (só aparece em telas pequenas) -->
      <button class="navbar-toggler" type="button" data-bs-toggle="offcanvas" data-bs-target="#offcanvasExample"
        aria-controls="offcanvasExample">
        <span class="navbar-toggler-icon"></span>
      </button>
      <!-- Links da navbar (visíveis em telas grandes) -->
      <ul class="navbar-nav flex-row d-none d-lg-flex">
        <li class="nav-item mx-2">
          <a class="nav-link active" aria-current="page" href="/">Home</a>
        </li>
        <li class="nav-item mx-2">
          <a class="nav-link" href="/funcionalidades">Funcionalidades</a>
        </li>
        <li class="nav-item mx-2">
          <a class="nav-link" href="/quem-somos">Quem Somos</a>
        </li>
        <li class="nav-item dropdown mx-2">
          <a class="nav-link dropdown-toggle" href="#" role="button" data-bs-toggle="dropdown" aria-expanded="false">
            Saiba Mais
          </a>
          <ul class="dropdown-menu">
            <li><a class="dropdown-item" href="#">Como Surgiu</a></li>
            <li><a class="dropdown-item" href="#">Como desenvolvemos</a></li>
            <li><a class="dropdown-item" href="#">Quais os nossos objetivos</a></li>
            <li><a class="dropdown-item" href="#">Fontes de Pesquisa</a></li>
          </ul>
        </li>
      </ul>
      <!-- Agrupe os botões em uma div para alinhamento -->
      <div class="d-flex align-items-center gap-3">
        <!-- Botão de login -->
        <a href="/entrar" class="login-btn btn btn-outline-light d-flex align-items-center">
          <span>Entrar</span>
          <i class="bi bi-person-circle ms-2" style="font-size:1.3em;"></i>
        </a>
        <!-- Botão modo escuro -->
        <button id="toggle-dark" class="btn btn-sm btn-outline-light" title="Alternar modo escuro">
          <i class="bi bi-moon"></i>
        </button>
      </div>
    </div>
  </nav>

  <!-- Offcanvas menu (aparece só em telas pequenas) -->
  <div class="offcanvas offcanvas-start" tabindex="-1" id="offcanvasExample" aria-labelledby="offcanvasExampleLabel">
    <div class="offcanvas-header">
      <h5 class="offcanvas-title" id="offcanvasExampleLabel">Menu</h5>
      <button type="button" class="btn-close" data-bs-dismiss="offcanvas" aria-label="Close"></button>
    </div>
    <div class="offcanvas-body">
      <ul class="navbar-nav">
        <li class="nav-item">
          <a class="nav-link active" aria-current="page" href="/">Home</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="/funcionalidades">Funcionalidades</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="/quem-somos">Quem Somos</a>
        </li>
        <li class="nav-item dropdown">
          <a class="nav-link dropdown-toggle" href="#" role="button" data-bs-toggle="dropdown" aria-expanded="false">
            Saiba Mais
          </a>
          <ul class="dropdown-menu">
            <li><a class="dropdown-item" href="#">Como Surgiu</a></li>
            <li><a class="dropdown-item" href="#">Como desenvolvemos</a></li>
            <li><a class="dropdown-item" href="#">Quais os nossos objetivos</a></li>
            <li><a class="dropdown-item" href="#">Fontes de Pesquisa</a></li>
          </ul>
        </li>
      </ul>
      <!-- Botão modo escuro também no menu mobile -->
      <button id="toggle-dark-mobile" class="btn btn-sm btn-outline-light mt-3" title="Alternar modo escuro">
        <i class="bi bi-moon"></i> Modo Escuro
      </button>
    </div>
  </div>
</header>
<script src="/js/dark.mode.js"></script>
<script>
  // Sincroniza o modo escuro nos dois botões
  function toggleDarkMode() {
    document.documentElement.classList.toggle('dark-mode');
    document.body.classList.toggle('dark-mode');
    if(document.body.classList.contains('dark-mode')) {
      localStorage.setItem('dark-mode', 'on');
    } else {
      localStorage.setItem('dark-mode', 'off');
    }
  }
  document.getElementById('toggle-dark').onclick = toggleDarkMode;
  document.getElementById('toggle-dark-mobile').onclick = toggleDarkMode;
</script>